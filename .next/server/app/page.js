(()=>{var e={};e.id=931,e.ids=[931],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4651:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>x,tree:()=>d});var r=s(482),a=s(9108),n=s(2563),l=s.n(n),i=s(8300),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,9797)),"/Users/treyyadon/repos/weekly-menu/app/page.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2917)),"/Users/treyyadon/repos/weekly-menu/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9361,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/treyyadon/repos/weekly-menu/app/page.tsx"],u="/page",m={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},2753:()=>{},8988:(e,t,s)=>{Promise.resolve().then(s.bind(s,5082))},3860:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2583,23)),Promise.resolve().then(s.t.bind(s,6840,23)),Promise.resolve().then(s.t.bind(s,8771,23)),Promise.resolve().then(s.t.bind(s,3225,23)),Promise.resolve().then(s.t.bind(s,9295,23)),Promise.resolve().then(s.t.bind(s,3982,23))},5082:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>n});var r=s(2295),a=s(3729);function n(){let[e,t]=(0,a.useState)(null),[s,n]=(0,a.useState)({}),[i,o]=(0,a.useState)(!0),d=(0,a.useRef)({}),c=new Date().toISOString().split("T")[0];(0,a.useEffect)(()=>{u()},[]);let u=async()=>{try{let e=await fetch("/api/menu");if(e.ok){let s=await e.json();t(s)}else console.error("Failed to load menu")}catch(e){console.error("Error loading menu:",e)}finally{o(!1)}},m=(0,a.useCallback)(async e=>{try{if((await fetch("/api/menu",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})).ok)return!0;return console.error("Failed to save menu"),!1}catch(e){return console.error("Error saving menu:",e),!1}},[]),x=(0,a.useCallback)((s,r,a)=>{if(!e)return;let l={...e,days:e.days.map(e=>e.date===s?{...e,meals:{...e.meals,[r]:a}}:e)};t(l);let i=`${s}-${r}`;n(e=>({...e,[i]:{status:"saving"}})),d.current[i]&&clearTimeout(d.current[i]),d.current[i]=setTimeout(async()=>{let e=await m(l);n(t=>({...t,[i]:{status:e?"saved":"error",message:e?"Saved âœ“":"Error saving"}})),setTimeout(()=>{n(e=>{let t={...e};return delete t[i],t})},2e3)},1e3)},[e,m]);return i?r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-gray-600 text-lg",children:"Loading menu..."})}):e?r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.days.map(e=>r.jsx(l,{day:e,isToday:e.date===c,onMealChange:x,saveStatuses:s},e.date))}):r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"text-red-600 text-lg",children:"Failed to load menu"})})}function l({day:e,isToday:t,onMealChange:s,saveStatuses:a}){let n=t=>a[`${e.date}-${t}`];return(0,r.jsxs)("div",{className:`
      bg-white rounded-lg shadow-md p-4 border-2 transition-all duration-200
      ${t?"border-blue-400 bg-blue-50 shadow-lg":"border-gray-200 hover:border-gray-300 hover:shadow-lg"}
    `,children:[(0,r.jsxs)("div",{className:"mb-4",children:[r.jsx("h3",{className:`font-bold text-lg ${t?"text-blue-800":"text-gray-800"}`,children:e.dayName}),r.jsx("p",{className:`text-sm ${t?"text-blue-600":"text-gray-600"}`,children:e.displayDate})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[r.jsx(i,{label:"Lunch",value:e.meals.lunch,onChange:t=>s(e.date,"lunch",t),saveStatus:n("lunch")}),r.jsx(i,{label:"Dinner",value:e.meals.dinner,onChange:t=>s(e.date,"dinner",t),saveStatus:n("dinner")})]})]})}function i({label:e,value:t,onChange:s,saveStatus:a}){return(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[r.jsx("label",{className:"block text-sm font-medium text-gray-700",children:e}),a&&r.jsx("span",{className:`text-xs ${"saving"===a.status?"text-orange-500":"saved"===a.status?"text-green-500":"error"===a.status?"text-red-500":"text-gray-500"}`,children:"saving"===a.status?"Saving...":a.message})]}),r.jsx("textarea",{value:t,onChange:e=>s(e.target.value),className:"w-full p-2 border border-gray-300 rounded-md resize-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",rows:3,placeholder:`Enter ${e.toLowerCase()} plan...`})]})}},2295:(e,t,s)=>{"use strict";e.exports=s(6372).vendored["react-ssr"].ReactJsxRuntime},2917:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i,metadata:()=>l});var r=s(5036),a=s(8592),n=s.n(a);s(7272);let l={title:"Weekly Menu Planner",description:"Plan your weekly meals with ease"};function i({children:e}){return r.jsx("html",{lang:"en",children:r.jsx("body",{className:n().className,children:e})})}},9797:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>o});var r=s(5036);let a=(0,s(6843).createProxy)(String.raw`/Users/treyyadon/repos/weekly-menu/components/WeeklyMenuPlanner.tsx`),{__esModule:n,$$typeof:l}=a,i=a.default;function o(){return r.jsx("main",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsxs)("header",{className:"text-center mb-8",children:[r.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-2",children:"Weekly Menu Planner"}),r.jsx("p",{className:"text-gray-600",children:"Plan your weekly meals and sync them across devices"})]}),r.jsx(i,{})]})})}},7272:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,941],()=>s(4651));module.exports=r})();